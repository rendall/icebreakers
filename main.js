(()=>{"use strict";var e=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},t=function(e){return e.slice(e.indexOf("*")+1).trim()},n=["default-theme","mint-theme","black-white-theme","ghost-theme","sky-theme","amaranth-yellow-theme"],r=function(e){var t=document.querySelector("html");t.classList.forEach((function(e){return t.classList.remove(e)})),t.classList.add(e),window.localStorage.setItem("theme",e)},o=function(){return Math.floor(2*Math.random())-1};new Promise((function(e){var t=window.localStorage.getItem("theme")||"default-theme",o=n.includes(t)?t:"default-theme";r(o),e()})).then((function(){return fetch("./QUESTIONS.md").then((function(e){return e.text()}))})).then((function(n){var r=n.split("\n").filter((function(e){return e.match(/^\s*\*/)})).map(t).reduce((function(t,n){var r=t[0],o=t[1];if(n.startsWith("Credit:")){var i=function(e){var t=RegExp(/Credit:\s*\[(.*)\]\((.*)\)/gm).exec(e);return{name:t[1],href:t[2]}}(n);return[i,o]}return[r,e(e([],o,!0),[{question:n,credit:r}],!1)]}),[{name:"",href:""},[]]);return r[0],r[1]})).then((function(e){return e.sort(o)})).then((function(e){var t=0,o=function(e){document.querySelector("#question-display").innerHTML=e.question;var t=document.querySelector("#credit-link");t.href=e.credit.href,t.innerHTML=e.credit.name};o(e[0]),document.querySelector("#reload-button").addEventListener("click",(function(){history.pushState(t,e[t].question),t=(t+1)%e.length,o(e[t])})),document.querySelector("#change-theme-button").addEventListener("click",(function(){document.querySelector("body").classList.add("themed");var e=document.querySelector("html").classList[0],t=n.indexOf(e),o=-1===t?0:(t+1)%n.length,i=n[o];r(i)})),window.onpopstate=function(){var t=window.history.state;o(e[t])}}))})();